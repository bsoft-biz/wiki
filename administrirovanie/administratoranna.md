# AdministratorAnna



**Руководство администратора**

**\(SL-admgd\)**

## Технология администрирования  {#H42243544543D43E43B43E43343844F43043443C43843D43844144244043844043E43243043D43844F}

**Технология администрирования**

### 1 Концепция  {#H141A43E43D44643543F44643844F}

Приложение Администратор предназначено для конфигурирования и управления настройками клиентского приложения Universal Accounting. Администратор позволяет настраивать существующие и создавать новые на базе существующих документы, отчеты, конфигурировать журналы, формы, изменять общие системные настройки Universal Accounting, настройки бухгалтерских операций, управлять группами пользователей и их правами.

Технология администрирования.

Настройки объединены в записи настроек. Для каждой записи определяются свои объекты с их свойствами.

В основе технологии администрирования лежат понятия объекта и его свойств. Под объектом здесь будем понимать документ, отчет, пользователя и т д., некий объект, имеющий собственные настройки.

Различают объекты четырех основных типов:

* Документы
* Отчеты
* Настройки
* Права

Для текущей записи список объектов выбранного типа имеет древовидную структуру. Узлы дерева представляют собой либо узел, служащий для логической группировки объектов \(логический узел\), либо собственно объект.

Объекты поддерживают определенные свойства. Изменение настроек для объектов, их конфигурирование осуществляется посредством изменения значений свойств объектов. Не поддерживаемые объектом свойства игнорируются. Создание новых объектов \(документов, отчетов\) осуществляется в основном путем копирования существующих и изменения их свойств.

Свойства объектов подразделяются на открытые, предназначенные для настройки объекта, и служебные \(в т. ч. системные\) для обработки информации о дереве объектов.

Свойства в свою очередь имеют атрибуты: Название \(идентификатор свойства\), Значение, Примечание \(описание свойства\) и др.

Фиксирование изменений настроек в базе данных осуществляется нажатием кнопки \[Post\]. В клиентском приложении изменения вступают в силу после нажатия кнопки \[Refresh Parametre\]. Отмена изменений настроек осуществляется нажатием кнопки Cancel.

### 2 Интерфейс  {#H241843D442435440444435439441}

![](../.gitbook/assets/administratoranna_html_m312c82b9.png)

Главное окно приложения содержит два вложенных окна.

Верхнее окно приложения служит для работы с записями настроек, выбора типа объектов и уровня конфигураций.

Нижнее окно содержит окно \[Узлы\] для работы с деревом объектов указанного типа и выбранной записи и окно \[Св-ва\] для работы со свойствами текущего узла дерева. Для этих окон определены свои строки меню

Главная строка меню \(находится вверху\) содержит общие команды работы с приложением, операции с окнами, операции с записями.

**Операции работы с записями:**

Кнопка **First** – Переход к первой записи

Кнопка **Prior** – Переход к предыдущей записи

Кнопка **Next** – Переход к следующей записи

Кнопка **Insert** – Добавление новой записи. То же действие осуществляется нажатием клавиши Insert

Кнопка **Delete** – Удаление текущей записи. То же действие осуществляется нажатием клавиш Ctrl+Delete. Открывается окно подтверждения удаления записи.

Кнопка **Post** – Сохранение последних изменений в настройках Администратора в базе данных.

Кнопка **Cancel** – Отмена последних изменений в настройках Администратора в базе данных.

Кнопка **Refresh** – Обновление окна приложения

Кнопка **Выход** – Выход из приложения Администратор.

Меню **Окно** главной строки меню содержит стандартные операции управления окнами и включает пункты

Горизонтально

Вертикально

Каскад

Показать все

Таблица в правой части верхнего окна содержит записи для указанного уровня конфигураций. Уровень конфигураций устанавливается переключателем **Уровень конфигураций**. Как правило, используется опция \[Основной\], отображающая записи настроек, для которых поле \[Уровень\] равно 0, или опция \[Пользователи\], отображающая записи настроек, для которых поле \[Уровень\] отлично от 0.

Переключатель **Поле** служит для переключения между типами объектов в окне \[Узлы\] \(отображения дерева объектов соответствующих типов\).

Опция **Документы** – Отображает дерево объектов типа Документы текущей записи настроек

Опция **Отчеты** – Отображает дерево объектов типа Отчеты текущей записи настроек

Опция **Настройки** – Отображает объекты типа Настройки \(настройки форм, журналов, системные настройки\)

Опция **Права** – Отображает дерево пользователей в окне Узлы

**Дерево объектов**

Объекты выбранной записи и выбранного типа представлены в виде дерева в окне **Узлы**.

Узел имеет имя и подпись. Имя узла представляет собой внутреннее имя и служит идентификатором узла. Подпись узла - это внешнее имя, видимое для пользователя в дереве объектов.

Операции с деревом объектов \(операции с узлами дерева\) реализуют элементы строки меню окна Узлы.

**Панель меню окна Узлы**

Кнопка **New Item** \(первая\) Добавляет новый узел на текущий уровень дерева из предлагаемого списка. Открывает диалоговое окно **Выбор узла из шаблона.**

![](../.gitbook/assets/administratoranna_html_443e35aa.png)

Окно Выбор узла из шаблона:

Кнопка \[–\] сворачивает дерево выводящихся в окне объектов, показывая только узлы самого верхнего уровня.

Кнопка \[+\] раскрывает дерево выводящихся в окне объектов, показывая все вложенные узлы.

При включенном флажке **Выбрать с вложенными узлами** выбранный узел добавляется в дерево объектов со своими субузлами.

Кнопка **New Sub Item** \(вторая\) Добавляет новый субузел для текущего уровня дерева из предлагаемого списка. Открывает диалоговое окно **Выбор узла из шаблона.**

Кнопка **New Item** \(третья\) Добавляет новый узел с пустой подписью на текущий уровень дерева.

Кнопка **New Sub Item** \(четвертая\) Добавляет новый субузел с пустой подписью для текущего уровня.

Кнопка **Sort** сортирует узлы каждого уровня дерева в порядке возрастания их подписей.

Кнопка **Delete Item** удаляет текущий узел вместе с вложенными узлами. Вызывается окно подтверждения удаления текущего узла.

**Меню Действия** строки меню окна \[Узлы\]

Пункт **New Node** добавляет новый узел на текущий уровень дерева объектов. Узлу присваивается имя и подпись по умолчанию.

Пункт **New SubNode** добавляет новый субузел для текущего уровня дерева объектов. Узлу присваивается имя и подпись, первые символы которого есть значение поля \[Номер текущей записи\]

Пункт **Delete Node** удаляет текущий узел вместе с вложенными узлами. Вызывается окно подтверждения удаления текущего узла.

Пункт **Rename Node** переименовывает текущий узел. Вызывается диалоговое окно с запросом о новом имени узла.

Пункт **Rename with childs** переименовывает текущий узел вместе со всеми вложенными узлами путем добавления общего окончания к их именам. Вызывается диалоговое окно с запросом об окончании имени для узла и субузлов.

Пункт **Change Caption** изменяет подпись текущего узла. То же действие осуществляется нажатием клавиши F2 или щелчком мыши на выделенный узел.

Меню **Images** содержит операции отслеживания состояния узлов \(пункты Undefined, Image, State, Selected\). Операции используется разработчиками.

Пункт **Expand Tree** раскрывает текущее дерево, показывая все вложенные узлы.

Пункт **Collapse Tree** сворачивает текущее дерево, показывая только узлы самого верхнего уровня.

**Свойства**

Свойства выбранного в окне Узлы объекта \(или логического узла\) представлены в окне **Св-ва** в виде списка, содержащего название, значение и примечание свойства. Стрелка справа от заголовка столбца списка \(Название Значение Примечание\) открывает список для фильтрации свойств.

\(All\) отображает все свойства объекта

\(Custom…\) открывает диалоговое окно пользовательского фильтра

![](../.gitbook/assets/administratoranna_html_59920e15.png)

Выбор строки списка с определенным названием, значением или примечанием отображает список свойств с таким названием, значением или примечанием.

Свойства объекта объединяются в именованные группы по назначению этих свойств.

Кнопка \[+\] слева от строки ‘Группа’ отображает все свойства этой группы.

Кнопка \[–\] слева от ‘Группа’ скрывает свойства группы.

Редактирование значения выбранного свойства осуществляется нажатием клавиши F2.

Операции со свойствами объектов реализуют элементы строки меню окна \[Св-ва\].

**Меню Сервис** строки меню окна \[Св-ва\] содержит основные команды работы со свойствами объектов и группами свойств.

Пункт **Новое свойство** добавляет новое свойство для выбранного объекта \(узла дерева\) в группу Общая.

Открывается диалоговое окно **Свойство** для ввода данных.

![](../.gitbook/assets/administratoranna_html_m6ce108b1.png)



**Окно Св-во** - диалоговое окно ввода атрибутов свойства.

В поле **Название** вводится название свойства

В поле со списком **Тип** выбирается тип свойства

Допустимые типы свойства

* **String** – строковый тип. Значение - произвольная строка
* **Integer** – целый тип. Значение - произвольное целое значение
* **Boolean** – булевский \(логический тип\). Значения - True \(истина\) и False \(ложь\)
* **MEMO** – тип MEMO. Значение - произвольный текст
* **Dir** – директория. Значение свойства – список каталогов на локальных или сетевых дисках компьютера

![](../.gitbook/assets/administratoranna_html_m5f19eba8.png)

Список содержит выбранные папки.

Поле ниже списка содержит папку для добавления ее в список.

Кнопка \[…\] справа от поля каталога открывает диалоговое окно **Обзор папок** для выбора папки.

![](../.gitbook/assets/administratoranna_html_5927d9de.png)



Кнопка **Добавить** окна \[Св-во\] добавляет папку из поля в список.

Кнопка **Заменить** заменяет выбранную в списке папку на папку из поля.

Кнопка **Удалить** удаляет выбранную папку.

Кнопки **Вверх,** **Вниз** справа от списка перемещают выбранный элемент соответственно вверх и вниз относительно соседних элементов списка.

* **File** – файл. Значение свойства – файл на локальном или сетевом диске компьютера

![](../.gitbook/assets/administratoranna_html_m36be0a4d.png)

Кнопка справа от поля **Значение** открывает диалоговое окно выбора файла. В поле **Директория** указывается путь к файлу.

Кнопка справа от поля \[Директория\] открывает диалоговое окно **Обзор папок** для выбора пути к файлу.

* **ExtDesignCST**

Свойства этого типа сохраняют настройки дизайна некоторых видов документов.

* **ExtSQL** Свойства этого типа связаны с выполнением SQL команд.

В поле **Значение** окна \[Св-во\] вводится значение свойства для свойств определенных типов \(String, Integer, Boolean, File, ExtDesignCST, ExtSQL\).

В поле **Примечание** вводятся заметки, примечания относительно свойства.

Значения свойств типа String, Integer, Boolean могут выбираться из списка.

Список возможных значений вводится в таблицу в поле **Значение**. Примечания относительно значений свойства вводятся в поле **Текст** для свойств типа String и Integer.

Отображение / скрытие поля Текст устанавливается переключателем **Список примечаний**.

Значения свойства типа MEMO вводится в поле в нижней части окна.

Кнопки над этим полем вызывают диалоговое окно **Open MEMO** открытия файла и загрузки его содержимого в поле редактирования значения и окно **Save MEMO** сохранения значения типа MEMO в файл.

![](../.gitbook/assets/administratoranna_html_m487a0ec8.png)

Дополнительные поля для определенных типов свойств:

Поля для свойств типа String:

Поле **Маска** определяет маску ввода значения свойства.

Поле **Длина** определяет длину строки значения свойства.

Поле **Размерность** для поля типа Integer определяет размерность значения числового свойства.

Пункт **Редактировать в окне** редактирует атрибуты свойства.

Вызывается диалоговое окно \[Свойство\] для редактирования выбранного свойства.

Пункт **Редактировать таблицу** переводит поле \[Значение свойства\] в режим редактирования \(То же действие осуществляется нажатием клавиши F4\)

Пункт **Копировать св-во** копирует указанное свойство \(со всеми его атрибутами\) в буфер.

Пункт **Вставить св-во** вставляет свойство из буфера \(со всеми его атрибутами\) в группу Общая для выбранного объекта.

Пункт **Удалить св-во** удаляет выбранное свойство. Открывается окно подтверждения удаления свойства.

Пункт **Копировать все св-ва** копирует все свойства выбранного объекта и свойства вложенных узлов в буфер.

При нажатой кнопке **Блокнот** открывается окно Блокнота с содержимым буфера копирования.

Пункт **Вставить новые св-ва** вставляет новые для объекта свойства из содержимого буфера.

Пункт **Просмотреть МЕМО** редактирует значение свойства типа MEMO.

Открывает диалоговое окно **Просмотр текстового свойства**.

![](../.gitbook/assets/administratoranna_html_1d8e2aac.png)

Кнопки над областью редактирования открывают окно **Open MEMO** открытия файла и загрузки его содержимого в поле редактирования значения и окно **Save MEMO** cохранения значения типа MEMO в файл.

Пункт **Вставить между MEMO** добавляет новое свойство типа MEMO \(с именем Приставка + Номер\) для выделенного свойства.

Пункт **Группы** открывает диалоговое окно **Настройка групп свойств**.

![](../.gitbook/assets/administratoranna_html_m4fc74f6f.png)

Первый список **Группы** отображает все группы свойств объекта.

Кнопка \[–\] служит для удаления выбранной группы свойств. При удалении группы свойства этой группы переводятся в группу \[Общая\]. Группу \[Общая\] удалить нельзя

Кнопка \[+\] служит для добавления новой группы.

Второй список **Свойства** отображает список всех свойств объекта. Флажки включены для выбранной группы.

Кнопка \[&gt;&gt;\] перемещает выбранное свойство в группу Общая.

Кнопка \[&lt;&lt;\] перемещает выбранное свойство в выбранную группу.

Третий список **Просмотр** отображает группы и принадлежащие им свойства. Кнопка над этим списком отображает группы со всеми их свойствами.

Стрелки справа от подписей \[pn\], \[gr\] открывают список для фильтрации свойств и групп свойств.

**\(All\)** отображает все свойства объекта или все группы

**\(Custom…\)** открывает диалоговое окно пользовательского фильтра.

Выбор строки списка с определенным названием свойства или группы отображает список свойств или групп с таким названием.

Пункт **Редактировать ини-данные** открывает окно редактирования **Изменить ини-файл**

