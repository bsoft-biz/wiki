# Использование контекстов приложения

Создание контекста приложения. Имя контекста - UN$FM.  Пакет, с которым он связан в данном случае - это UN4PUBLIC.UN$FM

 SQL&gt; create or replace context UN$FM using UN$FM.Итак, теперь созданы контекст с именем UN$FM и пакет с процедурами для его установки.

Важно иметь в виду, что, так как контекст связан с процедурами пакета UN$FM, то этот пакет является единственным средством установки значений контекста.

Если, например, попытаться установить в этом контексте USED, то обнаружится, что сделать это нельзя:

Выполнение следующих далее операций будет ПРЕРВАНО.

Это показывает, что процедура dbms\_session.set\_context может установить контекст UN$FM только через процедуры пакета UN$FM.

```sql
BEGIN 
dbms_session.set_context( 'un$fm', 'used', '1' ); 
END;
ORA-01031: привилегий недостаточно
ORA-06512: на  "SYS.DBMS_SESSION", line 101
ORA-06512: на  line 2
```

Значения контекста можно установить только через процедуры пакета. В этом случае гарантируется, что, если значение и существует, то оно проверено и установлено.Пример вызова процедуры:

```sql
BEGIN
if un$fm.use_fm then 
msg(1);
end if;
end;
```

{% hint style="info" %}
 Ссылка на источник:
{% endhint %}

http://baks.gaz.ru/oradoc/plsql/Kite/policy.htm - Пример 2. Использование контекстов приложения.

