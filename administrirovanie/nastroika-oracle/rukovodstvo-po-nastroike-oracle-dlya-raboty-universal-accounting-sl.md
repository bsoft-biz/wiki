# Руководство по настройке Oracle для работы Universal Accounting SL



Руководство по настройке Oracle для работы Universal Accounting SL

В тексте инструкции встречаются переменные username, fromuser,

вместо username мысленно подставляете имя пользователя, которого хотите создать \(например un4, baurghi, aermur\)

Bместо fromuser мысленно подставляете имя пользователя, из которого был сделан экспорт \(например un4, fsr, mtc\) - необходимо уточнить это имя у человека, который  дал вам базу. В крайнем случае, посмотреть это имя можно, открыв файл .DMP в Far по F3. имя пользователя может быть после connect, например \(connect un4\) последние версии скриптов user\_UN4public.sql, user\_UN4pack.sql можно взять из GOOD'а

1. Создать папку ORADATA.un4 в директории oracle

2. Запустить TOAD, подключиться пользователем sys с паролем sys

3. Открыть файл sys\_Tablespaces.sql

4. В каждом из табличных пространств поменять путь на необходимый

5. Выполнить скрипт по клавише F5 \(проходит долго, не пугаться\)

6. Открыть файл user\_UN4public.sql

7. Если при операции DROP каких-то объектов не существует 

Нажимать Continue Script

Если ошибки возникают при создании каких-то объектов, то операция считается неудачной, надо разобраться в причинах,   исправить их и повторить выполнение скрипта.

8. Если требуется возможность работы в режиме упаковки INI-данных, дизайнов и пр. \(обычно это нужно при работе удаленных клиентов\), то выполнить пункты 6 и 7 для файла user\_UN4pack.sql

9. Создать схему пользователя \(см. ниже раздел "Создание пользователя"\)

10. Попробовать запустить программу Administrator.exe \(Ctrl+F12\)

Если вход не получается, разобраться в причинах и исправить их.

11. Попробовать запустить программу uniacCLNT.exe \(Ctrl+F12\)

Если вход не получается, разобраться в причинах и исправить их.

12. В случае возникновения ошибки

"ORA-28100: Policy function schema string is invalid"

\(или "ORA-28100: Неверная функциональная схема методики" по-русски\) нужно удалить все методики пользователя. Для этого, например, подключиться в TOAD под sys и открыть Shema Browser, в выпадающем справочнике в левом верхнем углу выбрать пользователя "username", открыть вкладку Policies и удалить все Policies

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_

Создание пользователя

~~~~~~~~~~~~~~~~~~~~~

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_

a\) Можно пользоваться как в случае 1-ой схемы \(пользователя\), так и при каждой следующей  

----------------------------------------------------------------------------------------

1. Открыть папку Import 

найти файл run.bat открыть \(в Проводнике правой кнопкой - "Изменить"\)  

imp1 oraservice fromuser username 

imp1 имя файла который будет вызван \(не менять\)

oraservice имя службы oracle на которую мы хотим сделать импорт

fromuser , username описаны в начале файла 

например: 

imp1 ora1 un4 prim

также необходимо настроить правильные пароли в файле imp1.bat

sqlplus sys/sys  \(user / password\)

IMP system/sys 

2. Скопировать в папку Import файл Expdat.dmp если он называется иначе переименуйте.     

3. Далее необходимо запустить run.bat  

\(в случае, если на экране появляются предложения ввести user и password\) значит проверяйте в imp1:  sqlplus sys/sys  \(user/password\)

IMP system/sys  правильность пароля

Log file implog.log будет в той же папке Import

в нем тоже нужно необходимо анализировать сообщения

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_

b\) Можно пользоваться только в случае 1-ой схемы \(пользователя\)

------------------------------------------------------------------------------

1. Открыть в TOAD user.sql из папки Import

Заменить username на имя пользователя которое мы хотим создать

Выполнить скрипт \(клавишей F5\)

Если при операции DROP каких-то объектов не существует,

нажимать Continue Script

\(будет создан пользователь username\)

2. В TOAD-&gt;DBA-&gt;Import UtiLity Wizard-&gt;Import Users

\(from user "fromuser" to user "username"\)

export File Name указать файл expdat.dmp  Log file по умолчанию будет по тому же пути что expdat.dmp 

------------------------------------------------------------------------------

{% hint style="danger" %}
! после импорта любым способом, проанализировать log file \(анализировать можно, давая поиск по "ora-"\)!!!
{% endhint %}



 

   

