# Ограничение паролей пользователей

Новые возможности по ограничению паролей пользователей

\(Работают только для нового формата настроек программы\)

Реализация в пакете `A$UTIL` версии 1.25 от 21.05.2009

1. Пароли пользователей теперь чувствительны к регистру символов

2. Пароль задается в программе Configurator в свойстве Password в виде текста, но при первом же входе пользователя это свойство удаляется, а сохраняется его хеш-функция в свойстве Encoded.

3. После третьей подряд попытки ввести неправильный пароль учетная запись пользователя блокируется \(свойство `Enabled=false`\). Счетчик ошибок накапливается в свойстве PassErrors, при успешном входе в программу этот счетчик сбрасывается.

4. Можно ограничить срок действия пароля, задав свойство PassDays \(на одном из трех уровней – юзер, группа, система\). Значение свойства – количество дней, через которые пароль надо сменить. Значение 1 будет требовать смены пароля каждый день.

В версии 4.1.3.081 реализована обработка ошибки ORA-20050 – пользователю предлагается ввести новый пароль, который запоминается в настройках, после чего программа стартует, как обычно. Дата установки нового пароля запоминается в свойстве PassDate.

Ошибка ORA-20050 выдается в двух случаях: при превышении срока действия пароля и при отсутствии или пустом значении свойства PassDate. Таким образом, удалив свойство PassDate, можно принудить пользователя установить новый пароль при первом же входе.

Примечания:

`Ошибка ORA-20050 выдается только при значении свойства PassDays больше 0.`

Для ввода нового пароля пользователь должен вначале ввести старый пароль.

5. При вводе нового пароля выполняется его проверка на уникальность. Если такой пароль уже используется или был использован ранее в учетной записи этого же пользователя, выдается ошибка. Если пароль не требует такой проверки, надо задать свойство PassUnique=false.

6. Можно ограничить минимальную длину вводимого пароля, задав свойство PassMinLength \(на одном из трех уровней – юзер, группа, система\). Если длина нового пароля меньше требуемой, выдается ошибка.

7. Можно ограничить минимальную надежность вводимого пароля, задав свойство PassMinStrength \(на одном из трех уровней – юзер, группа, система\). Значение свойства – число от 1 до 3. Надежность пароля вычисляется в баллах, и если надежность введенного пароля меньше требуемой, выдается ошибка.

Надежность пароля вычисляется по следующей схеме:

- начальное значение \(-1\);

- если в пароле присутствуют цифры – плюс один балл;

- если в пароле присутствуют латинские буквы в нижнем регистре – плюс один балл;

- если в пароле присутствуют латинские буквы в верхнем регистре – плюс один балл;

- если в пароле присутствуют какие-то другие символы – плюс два балла.

