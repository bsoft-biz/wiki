# Регламент

 select \* from dual

## Конфигуратор {#H41A43E43D44443843344344043044243E440}

\(создание документов, ПФ, экшенов ..\)

### Правило оформления имен секций {#H41F44043043243843B43E43E44443E44043C43B43543D43844F43843C43543D44143543A446438439}

первая буква группы \_имя модуля\_имя объекта

\(группы конфигуратора :

Documents - D

Jornals - J

Reports - R

Forms - F

Univ lists -Ul

Settings - S

Users - U \)

Например:

F\_Tax\_Procent - форма процентных ставок по налогам

### Печатные формы {#H41F43544743044243D44B43544443E44043C44B}

если пф у документа одна, то делать сразу печать

всегда проверять на предпросмотре \(грид лайнс, масштаб\), а если есть возможность и на принтере

рекомендуется выносить на кнопки действие печати, причем название записывается в \#. Например \#Название ПФ\#

При создании нового шаблона, обязательно убирать галочку у свойства: File -&gt;Page Setup-&gt;Sheet -&gt;Grid Lines .

### Action {#HAction}

[Правка](http://wiki.bsoft.biz/xwiki/bin/edit/%D0%A0%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B0/%D0%A1%D1%82%D0%B0%D0%BD%D0%B4%D0%B0%D1%80%D1%82?section=4)

Все серьезные/опасные действия снабжать предупреждением/запросом на подтверждение \(confirmtext\)

Желательно выносить action на кнопки при этом название кнопок записывается в \[ \]

Пример: \[действие\]

кнопка проводок размещается под кнопкой сохранить

В некоторых случаях панель с кнопками лучше размещать в нижней части документа \(UseToolbarBottom\)

### Журнал {#H41644344043D43043B}

При создании журнала всегда выносить полезные поля в шапку, продумывать внешний вид \(цвет, поля, форматирование\)

## UNA {#HUNA}

### Гриды {#H41344043843444B}

Все суммы вместо 10000000.1 делать 10 000 000.10 \(разделитель по разрядам, после дроби 2 знака\)

Добавлять строку с итогами по сумме и по количеству.

## Кодинг \(Написание SQL процедур, функций, вьюх, триггеров, job..\) {#H41A43E43443843D4332841D43043F43844143043D438435SQL43F44043E4464354344434402C44444343D43A4464384392C43244C44E4452C44244043843343343544043E4322Cjob..29}

При создании/компилировании триггеров, процедур, функций и т.д. нужно убедиться, что объекты бд написаны без приставок "имя схемы" \(например thk. или dev.\). В противном случае при импорте дампа схемы с такими объектами появляются проблемы. Например, триггеры создаются в текущей схеме, но с привязкой к объектам другой схемы и не функционируют.

### Форматирование кода {#H42443E44043C43044243844043E43243043D43843543A43E434430}

В начале пакета писать дату последнего изменения.

Служебные слова писать маленькими буквами \(select, where, begin ...\)

Переменные писать маленькими буквами

p\_ параметры

v\_ переменные

нижний регистр, слова разделены \_  \([Snake case](https://ru.wikipedia.org/wiki/Snake_case)\)

отступы на 1 пробел \(в жабе можно настроить сколько пробелов при нажатии на таб на весь блок кода\)

\(Новый уровень/строка - 1 пробел\)

#### Представления {#H41F44043543444144243043243B43543D43844F}

Подзапросы типа \(select denumirea from vms\_uniers where cod = t.cod\) clcsct писать в одну строку

#### Именование объектов Oracle {#H41843C43543D43E43243043D43843543E43144A43543A44243E432Oracle}

#### Правила именования таблиц {#H41F44043043243843B43043843C43543D43E43243043D43844F44243043143B438446}

 \(название таблицы до 25 символов, т.к. максимальное кол-во символов - 30 - тригер и прочие объекты\)

Для именования желательно использовать английские слова или их сокращения.

приставка - tmdb\_ \(таблица док-та\), tms\_ \(справочник\), tslr\_ \(зарплата\) , tslrprm\_ \(параметры зарплаты\), tf\_/vtf\_ \(например, для формы по отгр. VTF\_ELEV\_SHIP\_TTN\)

корень - модуль \(otgr, elev, tax, perev, slr, mat, afx и т.д. в зависимости от названия модуля\) , может состоять из нескольких частей.

суффикс - имя сущности \( документ пропуск - propusk\) , может состоять из нескольких частей или отсутствовать.

окончание - признак, характеристика объекта \( например: шапка - m; 1-ый грид - d1; 2-ой грид - d2\). Так же м.б. какое-то определение, может состоять из нескольких частей или отсутствовать.

Примеры названий:

TMDB\_SCHEDULE\_WORK\_M

TMDB\_SCHEDULE\_WORK\_D1

TMDB\_SCHEDULE\_WORK\_D2

TMDB\_INCOME\_TAX\_BUDGET

TMDB\_INCOME\_TAX\_FUND

TMDB\_PTL\_M

TMDB\_PTL\_D1

TMDB\_PTL\_D2

#### Правила именования полей в таблице {#H41F44043043243843B43043843C43543D43E43243043D43844F43F43E43B43543943244243043143B438446435}

Английский перевод 

#### Правила именования полей в представлении {#H41F44043043243843B43043843C43543D43E43243043D43844F43F43E43B43543943243F44043543444144243043243B43543D438438}

и по нему вычисляю clcboxt, clcum\_box, clcvolume\_box  
напомни как мы называли расчетные поля из LA ?  
\[15:13:38\] БС Анатолий Сирик: clc\_la\_num  
clc\_la\_date  
clc\_la\_spirt  
\[15:15:18\] Бабин Вячеслав: тогда переделай   
\[13:59\] БС Анатолий Сирик:   
  
&lt;&lt;&lt; , clcum\_box, clcvolume\_box  
\[15:15:50\] БС Анатолий Сирик: просто смотрю что в одних случая ты в моих переменных ставил clcum например  
а в других уже как тут clc\_la\_num  
\[15:15:53\] БС Анатолий Сирик: как правильно-то?\)\)  
\[15:16:39\] БС Анатолий Сирик: да и у вас в коде я находил - что пишут именно так как я написал\) без нижнего подчеркивания и без буквы t в конце  
\[15:17:53\] БС Анатолий Сирик: скажи мне как делать и я буду придерживаться стандарту всегда\)\)  
\[15:18:51\] Бабин Вячеслав: \[15:16\] БС Анатолий Сирик:   
  
&lt;&lt;&lt; без нижнего подчеркивания и без буквы t в концесогласен  
\[15:20:14\] Бабин Вячеслав: \[15:15\] БС Анатолий Сирик:   
  
&lt;&lt;&lt; просто смотрю что в одних случая ты в моих переменных ставил clcum напримерв основном так, потому что обычно это относится к аналитике и она одна в таблице - например гот продукция. А если аналитик несколько - ГП, ящитк1, ящик2 товар итд, и у каждого нужно вытащить um ?  
\[15:20:47\] Бабин Вячеслав: тогда мы добавляем приставку/суффикс к чему относится - box  
\[15:20:58\] БС Анатолий Сирик: ну вот у меян сейчас так\)  
\[15:21:04\] Бабин Вячеслав: вопрос только где его приставить - спереди или сзади  
\[15:21:14\] Бабин Вячеслав: обычно идет от общего к частному  
\[15:21:33\] Бабин Вячеслав: модуль объект подобъект поле - типа так

#### Правила именования сиквенсов, триггеров для таблиц или представлений {#H41F44043043243843B43043843C43543D43E43243043D43844F44143843A43243543D44143E4322C44244043843343343544043E43243443B44F44243043143B43844643843B43843F44043543444144243043243B43543D438439}

Правила именования объектов схемы [из офиц. документации oracle](http://docs.oracle.com/cd/B19306_01/server.102/b14200/sql_elements008.htm#i27570).

таблица TMDB\_TABLE будет иметь:

триггер TMDB\_TABLE\_TRG

сиквенс TMDB\_TABLE\_SEQ

первичный ключ TMDB\_TABLE\_PK

внешний ключ TMDB\_TABLE\_FK

ограничения ссылочной целостности

соответственно для вьюхи

вьюха VMDB\_TABLE будет иметь триггер VMDB\_TABLE\_TRG

### svn {#Hsvn}

Для каждого объекта создаем отдельный файл. Только таблицы сохраняем вместе с ограничениями, индексами и ссылочными ключами в одном \*.tbl файле.

Разрешение файлов в SVN в основном совпадают с теми, что предлагает жаба: vw, trg, pks, pkb

кроме

таблица tbl

сиквенс seq

Если было несколько несвязанных изменений в разных файлах, то делать несколько коммитов с соотв. комментарием

Коммиты с комментарием делать только для тех файлов, которые относятся к этому комментарию

Для сравнения версии под комментарием с любой другой версией файла в SVN использовать пункт меню Show Log

### Правила {#H41F44043043243843B430}

В начале объектов нужно писать:-- LMD dd.mm.yyyy

#### Представления {#H41F44043543444144243043243B43543D43844F-1}

Всегда для таблицы создаем представление. По умолчанию в процедурах, функциях, подзапросах в представлениях работаем с представлениями.

#### Процедуры {#H41F44043E44643543444344044B}

обработка исключений

####  job {#Hjob}

обязательно используем "процесс" и логирование действий в процедурах, которые вызываются через job

возможно, понадобится JobAutoKill

